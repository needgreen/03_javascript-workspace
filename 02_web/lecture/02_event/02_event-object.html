<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      const $ = (selector) => document.querySelector(selector);
    </script>
  </head>
  <body>
    <!--
    ğŸ“Œ ì´ë²¤íŠ¸ ê°ì²´ (Event Object) 
    1. ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ë¸Œë¼ìš°ì €ì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§ 
    2. ë°œìƒí•œ ì´ë²¤íŠ¸ì— ê´€í•œ ìƒì„¸ ì •ë³´(ì´ë²¤íŠ¸ ì¢…ë¥˜, ì´ë²¤íŠ¸ ëŒ€ìƒ ë“±)ê°€ ì €ì¥ë˜ì–´ ìˆìŒ 
    3. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ì „ë‹¬ë°›ê³  ì‚¬ìš©í•¨ 
    4. ê´€ë¡€ì ìœ¼ë¡œ ì´ë²¤íŠ¸ ê°ì²´ì˜ ì´ë¦„ì€ "event" ë˜ëŠ” "evt" , "e" ë¥¼ ì‚¬ìš©í•¨ 
    5. ì£¼ìš” ì¸ìŠ¤í„´ìŠ¤ ì†ì„±
      1) type 
        (1) ì´ë²¤íŠ¸ì˜ ì¢…ë¥˜ë¥¼ ì˜ë¯¸í•¨ 
        (2) ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸  : click, mouseover, mouseout, mousemove, mousedown, mouseup
        (3) í¼ ìš”ì†Œ ì´ë²¤íŠ¸ : submit, focus
        (4) í‚¤ë³´ë“œ ì´ë²¤íŠ¸  : keydown, keypress, keyup
        (5) í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸  : focus, blur
      2) target
        (1) ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ê°€ì¥ ì•ˆìª½ì˜ ìš”ì†Œë¥¼ ì €ì¥í•˜ê³  ìˆìŒ 
        (2) ì‹¤ì œ ì´ë²¤íŠ¸ê°€ ì‹œì‘ëœ ì§€ì ì„ ì˜ë¯¸í•¨ 
        (3) ì´ë²¤íŠ¸ ì „íŒŒ(ì´ë²¤íŠ¸ ë²„ë¸”ë§, Event Bubbling)ê°€ ì§„í–‰ë˜ì–´ë„ targetì€ ë³€í•˜ì§€ ì•ŠìŒ 
      3) currentTarget
        (1) ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ì§€ì ì´ ì•„ë‹Œ ì‹¤ì œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ìš”ì†Œë¥¼ ì˜ë¯¸í•¨ 
        (2) ì´ë²¤íŠ¸ ì „íŒŒ(ì´ë²¤íŠ¸ ë²„ë¸”ë§, Event Bubbling)ê°€ ì§„í–‰ë˜ëŠ” ê²½ìš° ì‹¤ì œ ì´ë²¤íŠ¸ê°€ ì‹œì‘ëœ ì§€ì ê³¼ ë‹¤ë¥¸ ìš”ì†Œì¼ ìˆ˜ ìˆìŒ 
    6. ì£¼ìš” ì¸ìŠ¤í„´ìŠ¤ ë©”ì†Œë“œ
       1) preventDefault()           : ì·¨ì†Œ ê°€ëŠ¥í•œ ì´ë²¤íŠ¸ë¥¼ ì·¨ì†Œí•¨ 
       2) stopImmediatePropagation() : ë‹¤ë¥¸ ê³³ì—ì„œ ì´ íŠ¹ì • ì´ë²¤íŠ¸ë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë„ë¡ ë°©ì§€í•¨ 
       3) stopPropagation()          : ì´ë²¤íŠ¸ ì „íŒŒ(ì´ë²¤íŠ¸ ë²„ë¸”ë§, Event Bubbling)ë¥¼ ë§‰ìŒ 
  -->

    <h2>
      ì´ë²¤íŠ¸ ê°ì²´(Event Object) - ë°œìƒëœ ì´ë²¤íŠ¸ ì •ë³´ í™•ì¸ ë° ì´ë²¤íŠ¸ ë°œìƒ ëŒ€ìƒ
      ì¡°ì‘
    </h2>

    <button id="origin">ê³ ì „ì´ë²¤íŠ¸ëª¨ë¸ ë°©ì‹</button>
    <button id="inline" onclick="inline();">ì¸ë¼ì¸ì´ë²¤íŠ¸ëª¨ë¸ ë°©ì‹</button>
    <button id="listener">í‘œì¤€ì´ë²¤íŠ¸ëª¨ë¸ ë°©ì‹</button>

    <script>
      // ê³ ì „ì´ë²¤íŠ¸ ëª¨ë¸
      /*
      $("#origin").onclick = function () {
        //ì´ë°´íŠ¸ í•¸ë“¤ëŸ¬
        // ì´ë²¤íŠ¸ê°€ ë°œìƒë˜ë©´ ë¸Œë¼ìš°ì €ì—ì„œ Event ê°ì²´ë¥¼ ìƒì„±í•´ì„œ window.event í”„ë¡œí¼í‹°ì— ì €ì¥
        console.log("window.event:", window.event);
        console.log("window.event.type:", window.event.type);
        console.log("window.event.target:", window.event.target); 
      };
      */
      $("#origin").onclick = function (e) {
        console.log("e:", e);
        console.log("e.type", e.type);
        console.log("e.target", e.target); // í˜„ì¬ ì´ë²¤íŠ¸ê°€ ë°œìƒëœ ìš”ì†Œ(ì´ë²¤íŠ¸ ëŒ€ìƒ)

        e.target.innerText = "ë§ˆìš°ìŠ¤ í´ë¦­!";
        e.target.style.backgroundColor = "greenyellow";
      };

      // ì¸ë¼ì¸ ì´ë²¤íŠ¸ ëª¨ë¸
      function inline(e) {
        // ê¸°ëª…í•¨ìˆ˜ëŠ” ì§ì ‘ í˜¸ì¶œ ì‹œ ì „ë‹¬ë˜ëŠ” ë°ì´í„°ê°€ ë§¤ê°œë³€ìˆ˜ì— ë‹´ê¹€.
        // Event ê°ì²´ê°€ ìë™ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒ. ì´ëŸ´ë• window. ì‚¬ìš©
        /*
        console.log("e:", e);
        console.log("e.type", e.type);
        console.log("e.target", e.target);
        */
        console.log("window.event:", window.event);
        console.log("window.event.type:", window.event.type);
        console.log("window.event.target:", window.event.target);
      }

      // í‘œì¤€ì´ë²¤íŠ¸ ëª¨ë¸
      /*
      $("listener").addEventListener("click", (e) => {
        console.log("e:", e);
        console.log("e.type", e.type);
        console.log("e.target", e.target);
      });*/
    </script>

    <hr />
    <h4>ë²„íŠ¼ í´ë¦­ ì‹œ í•´ë‹¹ ë²„íŠ¼ì˜ ë¬¸êµ¬ ìƒ‰ìƒìœ¼ë¡œ ë°°ê²½ìƒ‰ì´ ë³€ê²½ë˜ë„ë¡</h4>

    <button id="red-btn">red</button>
    <button id="blue-btn">blue</button>
    <button id="green-btn">green</button>

    <script>
      /*
      ì„¸ ê°œì˜ ë²„íŠ¼.addEventListener("click", () => {
      í˜„ì¬ í´ë¦­ëœ ë²„íŠ¼.style.backgroundColor = í˜„ì¬í´ë¦­ëœ ë²„íŠ¼ì˜ ë¬¸êµ¬; })
      */
      // NodeList [button, button, button]
      document.querySelectorAll("button").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          e.target.style.backgroundColor = e.target.innerText;
        });
      });
    </script>

    <hr />

    <ul id="list-container">
      <!-- li ìš”ì†ŒëŠ” ì¶”ê°€ê¸°ëŠ¥ì— ì˜í•´ì„œ ë™ì ìœ¼ë¡œ ë§¤ë²ˆ ìƒì„±ë˜ëŠ” ìš”ì†Œ -->
      <li id="item1">
        <span class="content">item1</span> <span class="update">ìˆ˜ì •</span>
        <span class="delete">ì‚­ì œ</span>
      </li>
      <li id="item2">
        <span class="content">item2</span> <span class="update">ìˆ˜ì •</span>
        <span class="delete">ì‚­ì œ</span>
      </li>
      <li id="item3">
        <span class="content">item3</span> <span class="update">ìˆ˜ì •</span>
        <span class="delete">ì‚­ì œ</span>
      </li>
    </ul>

    <script>
      // ê° ì•„ì´í…œë“¤ë§ˆë‹¤ ìˆ˜ì •ê¸°ëŠ¥, ì‚­ì œê¸°ëŠ¥
      $("#list-container").addEventListener("click", (e) => {
        // console.log(e.target);   // ì‹¤ì§ˆì ìœ¼ë¡œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ ê°ì²´

        //if(í˜„ì¬ ì´ë²¤íŠ¸ ëŒ€ìƒì´ ìˆ˜ì • ë²„íŠ¼ì¼ ê²½ìš°)
        if (e.target.classList.contains("update")) {
          //console.log("ìˆ˜ì •ë²„íŠ¼í´ë¦­");
          console.log(
            "ìˆ˜ì •í•  ì•„ì´í…œ:",
            e.target.closest("li").querySelector(".content").innerText
          );
        }
        //if(í˜„ì¬ ì´ë²¤íŠ¸ ëŒ€ìƒì´ ì‚­ì œ ë²„íŠ¼ì¼ ê²½ìš°)
        if (e.target.classList.contains("delete")) {
          console.log("ì‚­ì œë²„íŠ¼í´ë¦­");
        }
      });
    </script>
  </body>
</html>
